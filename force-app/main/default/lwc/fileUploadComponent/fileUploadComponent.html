<!--
    created by : Suraj , created date: 03/05/2024, Need to Upload Files on external Service  
-->
<template>

    <div class="slds-modal__header" style="background-color:#ffffff">
        <h1 class="slds-modal__title slds-hyphenate" style="font-size: 18px;font-weight:bold">
           Upload File
            <!--  <img src={whatsappicon} height="50px;" width="50px;"> -->
        </h1>
    </div>
    <div class="slds-modal__content" style="background-color:#ffffff">
        <div class="slds-scrollable_y slds-p-around_medium" style="min-height: 100px;">
            <div class="exampleHolder" if:true={showSpinner}>
                <lightning-spinner alternative-text="Loading" size="medium" variant="brand"></lightning-spinner>
            </div>
            <div if:false={showSpinner}>
                <div class="slds-section slds-is-open" style="margin-top:-10px;">
                   
              <div aria-hidden="false" class="slds-section__content"> 
                        <lightning-layout multiple-rows="true">
                            <lightning-layout-item size="5" large-device-size="5" medium-device-size="5"
                                small-device-size="12" padding="horizontal-small">  
                                <div     style="vertical-align:top;display: flex; padding-left: 5px; width: 100%; margin-top:-15px;">
                                    <lightning-file-upload  icon-name="utility:attach" accept={acceptedFormats}
                                    onuploadfinished={handleUploadFinished} icon-position="left" variant="success">
                                </lightning-file-upload>  
                                </div>

                                </lightning-layout-item>
                                <lightning-layout-item size="7" large-device-size="7" medium-device-size="7">
                                <template for:each={attachments} for:item="item" for:index="index">
                                    <div key={item.name} class="attachment-container" style="margin:5px;">
                                        <div style="width: 95%;">
                                            <lightning-icon icon-name={item.iconName} alternative-text="Attachment"
                                                title="Attachment" size="small"></lightning-icon>
                                            <span class="clickAble_Text">{item.name}</span>
                                        </div>
                                        <div style="width: 5%; text-align: center; padding-top: 2px;">
                                            <lightning-button-icon icon-name="utility:close" variant="bare"
                                                alternative-text="Remove" data-attachment-index={index}
                                                onclick={handleRemoveAttachment}></lightning-button-icon>
                                        </div>
                                    </div>
                                </template>


                            </lightning-layout-item>
                        </lightning-layout>
                    </div>   

                 
                </div>
            </div>

        </div>



    </div>
    <div class="slds-modal__footer" style="margin-top: -20px; background-color: #ffffff;">
        <div style="display: flex; justify-content: space-between;">
            <div style="text-align: left;margin-top: -20px;">

                
            </div>
            <div style="text-align: right;">
                <lightning-button icon-name="utility:upload" icon-position="right" variant="success" onclick={doSave}
                    disabled={blocksave}>
                </lightning-button>
            </div>
        </div>
    </div>

</template>