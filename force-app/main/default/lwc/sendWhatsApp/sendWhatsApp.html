<!--
    created by : Suraj , created date: 22/02/2024, 
-->
<template>

      <!--<div class="slds-modal__header" style="background-color:#f4f4ec">
      <h1 class="slds-modal__title slds-hyphenate" style="font-size: 15px;font-weight:bold">
            Send Whats App
         </h1>
    </div>-->
    <div class="slds-modal__content" style="background-color:#f4f4ec">
        <div class="slds-scrollable_y slds-p-around_medium" style="min-height: 100px;">
            <div class="exampleHolder" if:true={showSpinner}>
                <lightning-spinner alternative-text="Loading" size="medium" variant="brand"></lightning-spinner>
            </div>
            <div if:false={showSpinner}>
                <div class="slds-section slds-is-open" style="margin-top:-20px;">
                   <!--- <div style="margin-top:10px;display: flex; justify-content: space-between;">
                            <div style="padding-left:10px;padding-bottom:-20px;text-align: left;   width: 60%; height:10%; border-radius:5px;">
                                            <h2 class="slds-text-heading_medium"
                                                style="margin-bottom:-50px;background-color: rgb(233, 230, 230); font-size:15px;">
                                                <b>Choose Templates</b>
                                            </h2>
                                        </div>
                
                            <div style="padding-bottom:-14px;padding-right:14px;text-align: right;">
                             
                                <lightning-button label="Send" onclick={doSave} variant="brand" disabled={blocksave}
                                ></lightning-button>
                            </div>
                        </div>   -->                 

                        <lightning-layout>
                            <lightning-layout-item flexibility="auto" padding="around-small" size="6">
                                <div style="padding-left:0px;text-align: bottom; vertical-align: text-bottom;   width: 100%; height:10%; border-radius:5px;">
                                    <h2 class="slds-text-heading_medium"
                                        style="vertical-align: text-bottom;font-size:15px;">
                                        Choose Templates
                                    </h2>
                                </div>
                            </lightning-layout-item>
                            <lightning-layout-item flexibility="auto" padding="around-small" size="6">
                                <div style="padding-right:9px;text-align: right;">
                                    <!--<lightning-button icon-name="utility:send" icon-position="right" variant="success" onclick={doSave}
                                        disabled={blocksave}>
                                    </lightning-button>-->
                                    <lightning-button label="Send" onclick={doSave} variant="brand" disabled={blocksave}
                                    ></lightning-button>
                                </div>
                            </lightning-layout-item>
                        </lightning-layout>


                    <div aria-hidden="false" class="slds-section__content" style="margin-top:-22px;">
                       

                        <lightning-layout multiple-rows="true">

                            <lightning-layout-item size="12" large-device-size="12" medium-device-size="6"
                                small-device-size="12" padding="horizontal-small">

                                <div class="slds-form-element" data-id="selectTemplate" style="margin-top:5px;">
                                  
                                  <!--  <label class="slds-form-element__label" for="select-Template">All Template</label>-->
                                    <div class="slds-form-element__control">
                                        <div class="slds-select_container">
                                            <select class="slds-select" id="select-Template"
                                                onchange={onSelectEmailTemplate}>
                                                <option value="">--None--</option>
                                                <template for:each={emailTemplateList} for:item="template">
                                                    <option key={template.Id} value={template.Name}>{template.Name}
                                                    </option>
                                                </template>
                                            </select>
                                        </div>
                                    </div>
                                </div>

                            </lightning-layout-item>
                        </lightning-layout>

                    </div>
                   

                    <div aria-hidden="false" class="slds-section__content">
                        

                        <lightning-layout multiple-rows="true" style="margin-top:-20px;">
                            <lightning-layout-item size="12" large-device-size="12" medium-device-size="6"
                                small-device-size="12" padding="horizontal-small">

                                <div class="slds-form-element">
                                   <!--- <label class="slds-form-element__label" for="textareaSample2">Template Body</label>-->
                                    <div class="slds-form-element__control" style="min-height: 150px;">
                                        <lightning-textarea name="body" value={emailbody} class="custom-textarea" placeholder="Write Your Whatsapp SMS Here"
                                            onchange={assignemailbody}></lightning-textarea>


                                    </div>
                                </div>
                            </lightning-layout-item>
                        </lightning-layout>

                        <template for:each={attachments} for:item="item" for:index="index">
                            <div key={item.name} class="attachment-container" style="padding-right:20px;">
                                <div style="width: 95%;">
                                    <lightning-icon icon-name={item.iconName} alternative-text="Attachment"
                                        title="Attachment" size="small"></lightning-icon>
                                    <span class="clickAble_Text">{item.name}</span>
                                </div>
                                <div style="width: 5%; text-align: center; padding-top: 2px;">
                                    <lightning-button-icon icon-name="utility:close" variant="bare"
                                        alternative-text="Remove" data-attachment-index={index}
                                        onclick={handleRemoveAttachment}></lightning-button-icon>
                                </div>
                                
                            </div>
                        </template>
                    </div>
                </div>
            </div>

        </div>



    </div>
   
    <div class="slds-modal__footer" style="margin-top: -15px; background-color: #f4f4ec;">
        <div style="display: flex; justify-content: space-between;">
            <div style="padding-left: 10px;text-align: left;margin-top: -15px;">

                <lightning-file-upload multiple icon-name="utility:attach" accept={acceptedFormats} label="Max File Size 3MB"
                    onuploadfinished={handleUploadFinished} icon-position="left" variant="success">
                </lightning-file-upload><template if:true={uploadedFileName}>

                </template>
            </div>
            <!--<div style="text-align: right;">
                <lightning-button icon-name="utility:send" icon-position="right" variant="success" onclick={doSave}
                    disabled={blocksave}>
                </lightning-button>
            </div>-->
        </div>
    </div>

</template>